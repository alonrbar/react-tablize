{"version":3,"sources":["webpack/universalModuleDefinition","webpack/bootstrap","external \"react\"","C:/Users/Alon/Documents/devel/react-tablize/src/internal/utils/domUtils.ts","C:/Users/Alon/Documents/devel/react-tablize/src/internal/utils/reactUtils.ts","C:/Users/Alon/Documents/devel/react-tablize/src/internal/utils/scrollUtils.ts","C:/Users/Alon/Documents/devel/react-tablize/src/internal/utils/sizeUtils.ts","C:/Users/Alon/Documents/devel/react-tablize/src/internal/utils/utils.ts","C:/Users/Alon/Documents/devel/react-tablize/src/internal/utils/index.ts","C:/Users/Alon/Documents/devel/react-tablize/src/internal/grid/virtualGridProps.ts","C:/Users/Alon/Documents/devel/react-tablize/src/internal/ErrorBoundary.tsx","C:/Users/Alon/Documents/devel/react-tablize/src/internal/window/recycleManager.ts","C:/Users/Alon/Documents/devel/react-tablize/src/internal/window/VirtualCell.tsx","C:/Users/Alon/Documents/devel/react-tablize/src/internal/window/windowCalculator.ts","C:/Users/Alon/Documents/devel/react-tablize/src/internal/window/VirtualWindow.tsx","C:/Users/Alon/Documents/devel/react-tablize/src/internal/window/index.ts","external \"@emotion/styled-base\"","external \"react-virtualized-auto-sizer\"","C:/Users/Alon/Documents/devel/react-tablize/src/internal/CustomScrollbars.tsx","C:/Users/Alon/Documents/devel/react-tablize/src/internal/list/index.ts","C:/Users/Alon/Documents/devel/react-tablize/src/internal/list/NonVirtualList.tsx","C:/Users/Alon/Documents/devel/react-tablize/src/internal/list/VirtualList.tsx","C:/Users/Alon/Documents/devel/react-tablize/src/table/ColumnBody.tsx","C:/Users/Alon/Documents/devel/react-tablize/src/table/ColumnHead.tsx","C:/Users/Alon/Documents/devel/react-tablize/src/table/TableBody.tsx","C:/Users/Alon/Documents/devel/react-tablize/src/table/style.tsx","C:/Users/Alon/Documents/devel/react-tablize/src/table/TableCell.tsx","C:/Users/Alon/Documents/devel/react-tablize/src/table/TableHead.tsx","C:/Users/Alon/Documents/devel/react-tablize/src/table/TableColumn.tsx","C:/Users/Alon/Documents/devel/react-tablize/src/table/TableRow.tsx","C:/Users/Alon/Documents/devel/react-tablize/src/table/TableView.tsx","C:/Users/Alon/Documents/devel/react-tablize/src/table/index.ts","C:/Users/Alon/Documents/devel/react-tablize/src/internal/grid/VirtualGrid.tsx","C:/Users/Alon/Documents/devel/react-tablize/src/internal/grid/index.ts","C:/Users/Alon/Documents/devel/react-tablize/src/grid/GridView.tsx","C:/Users/Alon/Documents/devel/react-tablize/src/grid/index.ts","external \"emotion-theming\"","external \"react-custom-scrollbars\"","C:/Users/Alon/Documents/devel/react-tablize/src/index.ts","external \"lodash.flattendeep\""],"names":["DomUtils","_scrollbarWidth","div","document","createElement","style","width","height","overflow","position","top","body","appendChild","offsetWidth","clientWidth","removeChild","_rtlOffsetType","outerDiv","outerStyle","direction","innerDiv","innerStyle","scrollLeft","_isPositionStickySupported","prefix","testElementStyle","head","i","length","ReactUtils","children","createPropsToAdd","React","map","child","index","propsToAdd","parentElement","type","childrenArray","filter","elementInstanceOf","matchingChildren","childrenOfType","Error","name","a","b","props","Array","isArray","elem","prototype","Object","isPrototypeOf","call","ScrollUtils","e","docDir","currentTarget","scrollTop","scrollHeight","scrollWidth","clientHeight","normalizedScrollLeft","rtlOffsetType","normalizedScrollTop","Math","min","max","rawScrollLeft","SizeUtils","size","Number","isFinite","component","defaultHeight","minHeight","maxHeight","undefined","cssSizeString","isNullOrUndefined","val","asArray","range","count","keys","areShallowEqual","keysA","keysB","key","TileKey","VirtualGridProps","ErrorBoundaryState","ErrorBoundary","state","hasError","error","errorInfo","setState","console","RecycleManager","nextOriginalKeys","nextKeys","slice","sort","prevKeys","usedKeysOriginalToStable","nextIndex","prevIndex","nextOriginal","prevOriginal","freeUnusedKey","originalKey","stableKey","getNextKeyFromPool","result","freeKeysPool","hasOwnProperty","stableKeySource","VirtualCell","rightOrLeft","transformModifier","transform","left","className","boxSizing","CalcData","WindowCalculator","column","row","elementType","fromPosition","toPosition","elementsOverscan","elementSize","minElementsCountToReturn","totalElementsCount","fromIndex","findNearestItem","toIndex","data","lastFromPosition","info","push","getElementInfo","estimatedElementSize","elementsCount","lastMeasuredIndex","totalSizeOfUnmeasuredElements","numUnmeasuredElementsCount","elementSizeOrEstimate","totalSizeOfMeasuredElements","cache","lastMeasuredElemInfo","maxIndex","lastMeasuredPosition","findNearestItemBinarySearch","findNearestItemExponentialSearch","high","low","middle","floor","currentPosition","interval","elementIndex","elementInfo","getSize","VirtualWindowProps","VirtualWindowState","VirtualWindow","normalized","normalizeScrollEvent","setScrollState","containerElementScroll","windowCalc","getTotalSize","rowHeight","rowCount","columnWidth","columnCount","minColumnsToRender","minRowsToRender","clearCache","forceUpdate","prevProps","forceRedraw","outerRef","current","containerElement","controlledScroll","onScroll","handleScroll","outerElementType","ref","opacity","innerElementType","innerRef","getScrollableHeight","getScrollableWidth","renderCells","columns","elementsInRange","overscanColumnsCount","rows","overscanRowCount","originalKeys","col","getCellOriginalKey","recycler","freeUnusedKeys","cells","getStableKey","renderCell","compareKeys","colIndex","rowIndex","scrollDirection","window","requestAnimationFrame","setTimeout","CustomScrollbarsInner","refSetter","forwardedRef","view","CustomScrollbars","displayName","NonVirtualList","scrollOffset","currentInner","listRef","currentOffset","isHorizontal","disableScrollEvents","scrollTo","listStyle","dir","outline","display","getListElementType","handleOnScroll","itemCount","fill","_","itemSize","customScrollbar","layout","VirtualList","windowRef","offset","assign","getOuterElementType","getVerticalScrollbarWidth","getHorizontalScrollbarWidth","overscan","cellProps","renderRow","scrollableHeight","hasVerticalScrollbar","scrollbarWidth","scrollableWidth","hasHorizontalScrollbar","initialCalculator","ColumnBodyProps","ColumnBody","ColumnHead","TableBodyProps","TableBody","childrenCount","tableBorder","StyledTableView","StyledTableCell","theme","defaultTheme","StyledTableHead","StyledTableBody","StyledTableRow","TableCellSymbol","TableCell","cell","isTableCell","TableHead","TableColumnProps","TableColumn","every","singleChildOfType","colHead","columnIndex","cellRender","flattenDeep","require","TableRowSymbol","TableRow","isTableRow","content","RowAutoSize","TableViewProps","TableView","tableElement","refresh","createHeadFromColumns","createBodyFromColumns","getTheme","getElementHeights","renderTableHead","renderTableBody","divProps","defaultHeadHeight","bodyHeights","getBodyHeights","total","renderTableRows","hasChildren","renderItemsPlaceHolder","rowRender","ListComponent","getListComponent","getRowHeight","overscanCount","customScrollbars","renderBodyRow","rowContent","getRowContent","rowKey","getRowKey","getCellProps","visible","placeholder","textAlign","defaultStyle","isVirtual","rowProps","table","defaultHeights","totalHeights","headHeight","getHeadHeight","VirtualGridState","VirtualGrid","tiles","tileKey","rowIndexOffset","columnIndexOffset","renderProps","tilePosition","getTilePosition","absRowIndex","absColIndex","relRowIndex","relColIndex","isRtl","isPositionStickySupported","activeTiles","createTilesMap","createClassName","getContainerHeight","getContainerWidth","renderTilesRow","tileKeys","getTilesInRow","firstTile","isSticky","topOffset","leftOffset","marginLeft","reduce","cur","tileRowTop","renderTile","vertical","resetTiles","hasHeader","fixedHeaderHeight","hasFooter","fixedFooterHeight","hasFixedLeftColumn","fixedLeftWidth","hasFixedRightColumn","fixedRightWidth","createTilesMapEntry","createTileMapEntryFactory","HeaderLeft","HeaderCenter","HeaderRight","BodyLeft","BodyCenter","BodyRight","FooterLeft","FooterCenter","FooterRight","horizontalScrollbarWidth","verticalScrollbarWidth","containerHeight","containerWidth","headerHeight","footerHeight","bodyHeight","leftWidth","rightWidth","centerWidth","horizontal","isVerticalFixed","isHorizontalFixed","isCorner","toLowerCase","split","getBodyScrollableHeight","bodyWidth","getBodyScrollableWidth","GridView","gridRef"],"mappings":"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","file":"react-tablize.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"react-tablize\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"react-tablize\"] = factory();\n\telse\n\t\troot[\"react-tablize\"] = factory();\n})(this, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 17);\n","module.exports = require(\"react\");","export type RtlOffsetType = 'negative' | 'positive-descending' | 'positive-ascending';\r\n\r\nexport class DomUtils {\r\n\r\n    public static get scrollbarWidth(): number {\r\n        if (this._scrollbarWidth !== null)\r\n            return this._scrollbarWidth;\r\n\r\n        // https://github.com/sonicdoe/measure-scrollbar/blob/master/index.js\r\n\r\n        const div = document.createElement('div');\r\n\r\n        div.style.width = '100px';\r\n        div.style.height = '100px';\r\n        div.style.overflow = 'scroll';\r\n        div.style.position = 'absolute';\r\n        div.style.top = '-9999px';\r\n\r\n        document.body.appendChild(div);\r\n\r\n        this._scrollbarWidth = div.offsetWidth - div.clientWidth;\r\n\r\n        document.body.removeChild(div);\r\n\r\n        return this._scrollbarWidth;\r\n    }\r\n\r\n    /**\r\n     * TRICKY According to the spec, scrollLeft should be negative for RTL aligned elements.\r\n     * Chrome does not seem to adhere; its scrollLeft values are positive (measured relative to the left).\r\n     * Safari's elastic bounce makes detecting this even more complicated wrt potential false positives.\r\n     * The safest way to check this is to intentionally set a negative offset,\r\n     * and then verify that the subsequent \"scroll\" event matches the negative offset.\r\n     * If it does not match, then we can assume a non-standard RTL scroll implementation.\r\n     *\r\n     * From: https://github.com/bvaughn/react-window/blob/master/src/domHelpers.js\r\n     */\r\n    public static get rtlOffsetType(): RtlOffsetType {\r\n        if (DomUtils._rtlOffsetType)\r\n            return DomUtils._rtlOffsetType;\r\n\r\n        const outerDiv = document.createElement('div');\r\n        const outerStyle = outerDiv.style;\r\n        outerStyle.width = '50px';\r\n        outerStyle.height = '50px';\r\n        outerStyle.overflow = 'scroll';\r\n        outerStyle.direction = 'rtl';\r\n\r\n        const innerDiv = document.createElement('div');\r\n        const innerStyle = innerDiv.style;\r\n        innerStyle.width = '100px';\r\n        innerStyle.height = '100px';\r\n\r\n        outerDiv.appendChild(innerDiv);\r\n\r\n        document.body.appendChild(outerDiv);\r\n\r\n        if (outerDiv.scrollLeft > 0) {\r\n            DomUtils._rtlOffsetType = 'positive-descending';\r\n        } else {\r\n            outerDiv.scrollLeft = 1;\r\n            if (outerDiv.scrollLeft === 0) {\r\n                DomUtils._rtlOffsetType = 'negative';\r\n            } else {\r\n                DomUtils._rtlOffsetType = 'positive-ascending';\r\n            }\r\n        }\r\n\r\n        document.body.removeChild(outerDiv);\r\n\r\n        return DomUtils._rtlOffsetType;\r\n    }\r\n\r\n    public static get isPositionStickySupported(): boolean {\r\n\r\n        // https://github.com/dollarshaveclub/stickybits/issues/35#issuecomment-549929578\r\n\r\n        if (DomUtils._isPositionStickySupported !== null)\r\n            return DomUtils._isPositionStickySupported;\r\n\r\n        const prefix = ['', '-o-', '-webkit-', '-moz-', '-ms-'];\r\n        const testElementStyle = document.head.style;\r\n\r\n        for (let i = 0; i < prefix.length; i += 1) {\r\n            testElementStyle.position = `${prefix[i]}sticky`;\r\n        }\r\n        DomUtils._isPositionStickySupported = (testElementStyle.position === 'sticky');\r\n\r\n        return DomUtils._isPositionStickySupported;\r\n    }\r\n\r\n    private static _scrollbarWidth: number = null;\r\n\r\n    private static _rtlOffsetType: RtlOffsetType;\r\n\r\n    private static _isPositionStickySupported: boolean = null;\r\n}","import * as React from 'react';\r\nimport { Constructor } from '../../types';\r\n\r\nexport class ReactUtils {\r\n\r\n    public static addPropsToChildren(children: React.ReactNode, createPropsToAdd: (child: React.ReactElement<any>, index?: number) => any) {\r\n\r\n        // https://stackoverflow.com/questions/32370994/how-to-pass-props-to-this-props-children\r\n        return React.Children.map(children, (child: React.ReactElement<any>, index: number) => {\r\n            const propsToAdd = createPropsToAdd(child, index);\r\n            return React.cloneElement(child, propsToAdd);\r\n        });\r\n    }\r\n\r\n    public static childrenOfType<T>(parentElement: any, type: Constructor<T>): T[] {\r\n        const children = ReactUtils.childrenArray(parentElement);\r\n        if (!children)\r\n            return null;\r\n        return children.filter(child => ReactUtils.elementInstanceOf(child, type)) as any;\r\n    }\r\n\r\n    /**\r\n     * Return the only child that matches the given type.  \r\n     * If more than one child matches an error is thrown.  \r\n     * \r\n     * Notice that this function gives no indication of the total number of\r\n     * children, only the number of matching children.\r\n     * @param parentElement \r\n     * @param type \r\n     */\r\n    public static singleChildOfType<T>(parentElement: any, type: Constructor<T>): T {\r\n        const matchingChildren = ReactUtils.childrenOfType(parentElement, type);\r\n        if (!matchingChildren || !matchingChildren.length)\r\n            return null;\r\n\r\n        if (matchingChildren.length > 1)\r\n            throw new Error(`Only one ${type.name} child element is allowed.`);\r\n\r\n        return matchingChildren[0] as any;\r\n    }\r\n\r\n    public static compareKeys(a: React.Key, b: React.Key): number {\r\n        if (a < b) {\r\n            return -1;\r\n        } else if (a > b) {\r\n            return 1;\r\n        }\r\n        return 0;\r\n    }\r\n\r\n    //\r\n    // private methods\r\n    //\r\n\r\n    private static childrenArray(parentElement: any): React.ReactChild[] {\r\n        if (!parentElement)\r\n            return null;\r\n        if (!parentElement.props)\r\n            return null;\r\n\r\n        const children = parentElement.props.children;\r\n        if (Array.isArray(children))\r\n            return children;\r\n\r\n        return React.Children.map(children, child => child);\r\n    }\r\n\r\n    private static elementInstanceOf<T>(elem: any, type: Constructor<T>): elem is T {\r\n        if (!elem)\r\n            return false;\r\n        if (!elem.type)\r\n            return false;\r\n\r\n        // https://stackoverflow.com/questions/39387405/using-instanceof-to-test-for-base-class-of-a-react-component\r\n        // https://stackoverflow.com/questions/14486110/how-to-check-if-a-javascript-class-inherits-another-without-creating-an-obj\r\n        // https://stackoverflow.com/questions/2464426/whats-the-difference-between-isprototypeof-and-instanceof-in-javascript\r\n\r\n        return elem.type === type ||\r\n            elem.type.prototype instanceof type ||\r\n            Object.prototype.isPrototypeOf.call(type, elem.type);\r\n    }\r\n}","import { DocDir } from '../../types';\r\nimport { DomUtils } from './domUtils';\r\n\r\nexport interface NormalizedScrollEvent {\r\n    scrollTop: number;\r\n    /**\r\n     * The original scrollLeft value as it was sent by the browser.\r\n     */\r\n    rawScrollLeft: number;\r\n    /**\r\n     * The normalized, \"positive-ascending\" scrollLeft value. \r\n     * For mode details see the comment on `DomUtils.rtlOffsetType`. \r\n     */\r\n    normalizedScrollLeft: number;\r\n}\r\n\r\nexport class ScrollUtils {\r\n\r\n    public static normalizeScrollEvent(e: React.UIEvent<HTMLElement>, docDir: DocDir): NormalizedScrollEvent {\r\n\r\n        const { scrollTop, scrollLeft } = e.currentTarget;\r\n        const { scrollHeight, scrollWidth, clientHeight, clientWidth } = e.currentTarget;\r\n\r\n        // RTL support\r\n        let normalizedScrollLeft = scrollLeft;\r\n        if (docDir === 'rtl') {\r\n            switch (DomUtils.rtlOffsetType) {\r\n                case 'negative':\r\n                    normalizedScrollLeft = -scrollLeft;\r\n                    break;\r\n                case 'positive-ascending':\r\n                    // noop\r\n                    break;\r\n                case 'positive-descending':\r\n                default:\r\n                    normalizedScrollLeft = scrollWidth - clientWidth - scrollLeft;\r\n                    break;\r\n            }\r\n        }\r\n\r\n        // fix scroll offset to prevent \"over scroll\"\r\n        let normalizedScrollTop = Math.min(scrollTop, scrollHeight - clientHeight);\r\n        normalizedScrollTop = Math.max(0, scrollTop);\r\n        normalizedScrollLeft = Math.min(normalizedScrollLeft, scrollWidth - clientWidth);\r\n        normalizedScrollLeft = Math.max(0, normalizedScrollLeft);\r\n\r\n        return {\r\n            scrollTop: normalizedScrollTop,\r\n            rawScrollLeft: scrollLeft,\r\n            normalizedScrollLeft\r\n        };\r\n    }\r\n}","import * as React from 'react';\r\n\r\nexport interface ElementHeights {\r\n    height: string | number;\r\n    minHeight: string | number;\r\n    maxHeight: string | number;\r\n}\r\n\r\nexport class SizeUtils {\r\n\r\n    public static cssSizeString(size: number | string): string {\r\n        if (Number.isFinite(size as number))\r\n            return size + 'px';\r\n        return size as string;\r\n    }\r\n\r\n    public static getElementHeights(component: React.ComponentWithStyle, defaultHeight: number | string): ElementHeights {\r\n        const style = (component && component.props.style) || {};\r\n\r\n        let height = style.height;\r\n        let minHeight = style.minHeight;\r\n        let maxHeight = style.maxHeight;\r\n\r\n        if (height === undefined && minHeight === undefined) {\r\n            height = defaultHeight;\r\n        }\r\n\r\n        height = this.cssSizeString(height);\r\n        minHeight = this.cssSizeString(minHeight);\r\n        maxHeight = this.cssSizeString(maxHeight);\r\n\r\n        return {\r\n            height,\r\n            minHeight,\r\n            maxHeight\r\n        };\r\n    }\r\n}","\r\nexport function isNullOrUndefined(val: any): boolean {\r\n    return val === null || val === undefined;\r\n}\r\n\r\nexport function asArray<T>(val: T | T[]): T[] {\r\n    if (Array.isArray(val))\r\n        return val;\r\n\r\n    return [val];\r\n}\r\n\r\nexport function range(count: number): number[] {\r\n    // https://stackoverflow.com/questions/3895478/does-javascript-have-a-method-like-range-to-generate-a-range-within-the-supp\r\n    return [...Array(count || 0).keys()];\r\n}\r\n\r\nexport function areShallowEqual(a: object, b: object) {\r\n    if (a === b) {\r\n        return true;\r\n    }\r\n\r\n    if (a === null || a === undefined || b === null || b === undefined) {\r\n        return false;\r\n    }\r\n\r\n    const keysA = Object.keys(a);\r\n    const keysB = Object.keys(b);\r\n\r\n    if (keysA.length !== keysB.length) {\r\n        return false;\r\n    }\r\n\r\n    for (const key of keysA) {\r\n        if ((a as any)[key] !== (b as any)[key])\r\n            return false;\r\n    }\r\n\r\n    return true;\r\n}","export * from './domUtils';\r\nexport * from './reactUtils';\r\nexport * from './scrollUtils';\r\nexport * from './sizeUtils';\r\nexport * from './utils';\r\n","import * as React from 'react';\r\nimport { ScrollEvent, SizeCallback } from '../../types';\r\n\r\nexport enum TileKey {\r\n    HeaderLeft = 'Header_Left',\r\n    HeaderCenter = 'Header_Center',\r\n    HeaderRight = 'Header_Right',\r\n    BodyLeft = 'Body_Left',\r\n    BodyCenter = 'Body_Center',\r\n    BodyRight = 'Body_Right',\r\n    FooterLeft = 'Footer_Left',\r\n    FooterCenter = 'Footer_Center',\r\n    FooterRight = 'Footer_Right'\r\n}\r\n\r\nexport type TileVerticalPosition = 'header' | 'body' | 'footer';\r\nexport type TileHorizontalPosition = 'left' | 'center' | 'right';\r\n\r\nexport interface TilePosition {\r\n    vertical: TileVerticalPosition;\r\n    horizontal: TileHorizontalPosition;\r\n}\r\n\r\nexport interface RenderCellProps {\r\n    /**\r\n     * Absolute column index, taking into account fixed columns.\r\n     */\r\n    absColIndex: number;\r\n    /**\r\n     * Absolute row index, taking into account fixed header and/or footer.\r\n     */\r\n    absRowIndex: number;\r\n    /**\r\n     * Column index relative to the current tile.\r\n     */\r\n    relColIndex: number;\r\n    /**\r\n     * Row index relative to the current tile.\r\n     */\r\n    relRowIndex: number;\r\n    tileKey: TileKey;\r\n    tilePosition: TilePosition;\r\n    /**\r\n     * The height of the rendered cell.  \r\n     * You don't have to do anything with it, it's just an informative prop.\r\n     */\r\n    height: number;\r\n    /**\r\n     * The width of the rendered cell.  \r\n     * You don't have to do anything with it, it's just an informative prop.\r\n     */\r\n    width: number;\r\n}\r\n\r\nexport class VirtualGridProps {\r\n\r\n    public onScroll?: (e: ScrollEvent) => void;\r\n\r\n    public height: number;\r\n    public width: number;\r\n    /**\r\n     * Number of columns in the grid, excluding fixed columns.\r\n     */\r\n    public columnCount: number;\r\n    /**\r\n     * Number of rows in the grid, excluding the header and footer.\r\n     */\r\n    public rowCount: number;\r\n    public columnWidth: number | SizeCallback;\r\n    public rowHeight: number | SizeCallback;\r\n    public overscanColumnsCount?= 0;\r\n    public overscanRowCount?= 0;\r\n\r\n    public fixedHeaderHeight?= 0;\r\n    public fixedFooterHeight?= 0;\r\n    public fixedLeftWidth?= 0;\r\n    public fixedRightWidth?= 0;\r\n\r\n    public style?: React.CSSProperties;\r\n\r\n    public children: (props: RenderCellProps) => React.ReactNode;\r\n}","import * as React from 'react';\r\n\r\nclass ErrorBoundaryState {\r\n    public hasError: boolean;\r\n}\r\n\r\nexport class ErrorBoundary extends React.Component<{}, ErrorBoundaryState> {\r\n\r\n    constructor(props: any) {\r\n        super(props);\r\n        this.state = { hasError: false };\r\n    }\r\n\r\n    public componentDidCatch(error: Error, errorInfo: React.ErrorInfo): void {\r\n        this.setState({ hasError: true });\r\n        console.error(error);  // eslint-disable-line no-console\r\n    }\r\n\r\n    public render() {\r\n        if (this.state.hasError) {\r\n            return (\r\n                <span>X</span>\r\n            );\r\n        }\r\n        return this.props.children !== undefined ? this.props.children : null;\r\n    }\r\n}","import { IMap } from '../../types';\r\n\r\nexport class RecycleManager {\r\n\r\n    private stableKeySource = 0;\r\n    private freeKeysPool: IMap<boolean> = {};\r\n    private usedKeysOriginalToStable: IMap<React.Key> = {};\r\n\r\n    //\r\n    // public methods\r\n    //\r\n\r\n    public freeUnusedKeys(nextOriginalKeys: React.Key[]): void {\r\n\r\n        const nextKeys = nextOriginalKeys.slice();\r\n        nextKeys.sort();\r\n        const prevKeys = Object.keys(this.usedKeysOriginalToStable);\r\n        prevKeys.sort();\r\n\r\n        let nextIndex = nextKeys.length - 1;\r\n        let prevIndex = prevKeys.length - 1;\r\n\r\n        while (nextIndex >= 0 && prevIndex >= 0) {\r\n\r\n            const nextOriginal = nextKeys[nextIndex];\r\n            const prevOriginal = prevKeys[prevIndex];\r\n\r\n            if (nextOriginal === prevOriginal) {\r\n\r\n                // still using the key - don't free\r\n                nextIndex--;\r\n                prevIndex--;\r\n\r\n            } else if (nextOriginal > prevOriginal) {\r\n\r\n                // still using the key - don't free\r\n                nextIndex--;\r\n\r\n            } else {\r\n\r\n                // not using the key - return to pool\r\n                this.freeUnusedKey(prevOriginal);\r\n                prevIndex--;\r\n            }\r\n        }\r\n\r\n        // return remaining keys to pool\r\n        while (prevIndex >= 0) {\r\n            const prevOriginal = prevKeys[prevIndex];\r\n            this.freeUnusedKey(prevOriginal);\r\n            prevIndex--;\r\n        }\r\n    }\r\n\r\n    public getStableKey(originalKey: React.Key): React.Key {\r\n\r\n        if (this.usedKeysOriginalToStable[originalKey] !== undefined) {\r\n            return this.usedKeysOriginalToStable[originalKey];\r\n\r\n        } else {\r\n            const stableKey = this.getNextKeyFromPool();\r\n            this.usedKeysOriginalToStable[originalKey] = stableKey;\r\n            return stableKey;\r\n        }\r\n    }\r\n\r\n    //\r\n    // private methods\r\n    //\r\n\r\n    private getNextKeyFromPool(): React.Key {\r\n\r\n        // find next key in pool        \r\n        let result: React.Key;\r\n        for (const key in this.freeKeysPool) {\r\n            if (this.freeKeysPool.hasOwnProperty(key)) {\r\n                result = key;\r\n                break;\r\n            }\r\n        }\r\n\r\n        if (result === undefined) {\r\n\r\n            // generate new key\r\n            result = this.stableKeySource;\r\n            this.stableKeySource++;\r\n\r\n        } else {\r\n\r\n            // remove from pool\r\n            delete this.freeKeysPool[result];\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\n    private freeUnusedKey(originalKey: React.Key): void {\r\n        const stableKey = this.usedKeysOriginalToStable[originalKey];\r\n        delete this.usedKeysOriginalToStable[originalKey];\r\n        this.freeKeysPool[stableKey] = true;\r\n    }\r\n}","import * as React from 'react';\r\nimport { DocDir } from '../../types';\r\n\r\nexport interface VirtualCellProps {\r\n    /**\r\n     * We are only using classes for easier debug inspection...\r\n     */\r\n    className: string;\r\n    direction: DocDir;\r\n    height: number;\r\n    width: number;\r\n    left: number;\r\n    top: number;\r\n    children: React.ReactNode;\r\n}\r\n\r\n/***\r\n * Each `VirtualWindow` creates a constant number of these `VirtualCell`s and just\r\n * moves them around. This is much more efficient than creating a new cell on\r\n * each scroll.\r\n *\r\n * based on:\r\n * https://github.com/Flipkart/recyclerlistview/blob/master/src/platform/web/viewrenderer/ViewRenderer.tsx\r\n */\r\nexport class VirtualCell extends React.PureComponent<VirtualCellProps> {\r\n    public render() {\r\n\r\n        const rightOrLeft = this.props.direction === 'rtl' ? 'right' : 'left';\r\n\r\n        // https://rtl-css.net/tutorial/quick-tip-rtling-css3-transform-functions-translate-and-translatex\r\n        const transformModifier = (this.props.direction === 'rtl') ? -1 : 1;\r\n        const transform = `translate(${this.props.left * transformModifier}px,${this.props.top}px)`;\r\n\r\n        return (\r\n            <div\r\n                className={this.props.className}\r\n                style={{\r\n                    boxSizing: 'border-box',\r\n                    height: this.props.height,\r\n                    width: this.props.width,\r\n                    position: \"absolute\",\r\n                    [rightOrLeft]: 0,\r\n                    top: 0,\r\n                    willChange: \"transform\",\r\n                    transform\r\n                }}\r\n            >\r\n                {this.props.children}\r\n            </div>\r\n        );\r\n    }\r\n}","import { IMap, SizeCallback } from '../../types';\r\n\r\nexport type ElementType = 'column' | 'row';\r\n\r\nexport interface ElementInfo {\r\n    index: number;\r\n    position: number;\r\n    size: number;\r\n}\r\n\r\nclass CalcData {\r\n    public cache: IMap<ElementInfo> = {};\r\n    public lastMeasuredIndex = -1;\r\n    public lastFromPosition = -1;\r\n}\r\n\r\ntype CalcDataMap = {\r\n    [key in ElementType]: CalcData;\r\n};\r\n\r\n/**\r\n * Calculates the index, size and position of all visible items within a given\r\n * range.\r\n *\r\n * based on:\r\n * - https://github.com/bvaughn/react-window/blob/master/src/VariableSizeGrid.js\r\n * - https://github.com/fulcrumapp/react-virtual-grid/blob/master/src/grid-calculator.js\r\n * - https://github.com/ranneyd/sticky-table/blob/master/src/useVirtual.js\r\n */\r\nexport class WindowCalculator {\r\n\r\n    private readonly data: CalcDataMap = {\r\n        column: new CalcData(),\r\n        row: new CalcData()\r\n    };\r\n\r\n    //\r\n    // public methods\r\n    //\r\n\r\n    public elementsInRange(\r\n        elementType: ElementType,\r\n        fromPosition: number,\r\n        toPosition: number,\r\n        elementsOverscan: number,\r\n        elementSize: number | SizeCallback,\r\n        minElementsCountToReturn: number,\r\n        totalElementsCount: number\r\n    ) {\r\n\r\n        let fromIndex = this.findNearestItem(\r\n            elementType,\r\n            fromPosition,\r\n            totalElementsCount,\r\n            elementSize\r\n        );\r\n\r\n        let toIndex = this.findNearestItem(\r\n            elementType,\r\n            toPosition,\r\n            totalElementsCount,\r\n            elementSize\r\n        );\r\n\r\n        // Determine scroll direction and set overscan accordingly\r\n        if (fromPosition < this.data[elementType].lastFromPosition) {\r\n            fromIndex -= elementsOverscan;\r\n        } else {\r\n            toIndex += elementsOverscan;\r\n        }\r\n        this.data[elementType].lastFromPosition = fromPosition;\r\n\r\n        // Enforce \"minElementsCountToReturn\"\r\n        while (toIndex - fromIndex + 1 < minElementsCountToReturn) {\r\n            if (toIndex + 1 < totalElementsCount) {\r\n                toIndex++;\r\n            } else {\r\n                fromIndex--;\r\n            }\r\n        }\r\n\r\n        // Prevent range error\r\n        fromIndex = Math.max(0, fromIndex);\r\n        toIndex = Math.min(toIndex, totalElementsCount - 1);\r\n\r\n        // Get elements info\r\n        const info: ElementInfo[] = [];\r\n        for (let i = fromIndex; i <= toIndex; i++) {\r\n            info.push(this.getElementInfo(\r\n                elementType,\r\n                i,\r\n                elementSize\r\n            ));\r\n        }\r\n        return info;\r\n    }\r\n\r\n    public getTotalSize(\r\n        elementType: ElementType,\r\n        elementSize: number | SizeCallback,\r\n        estimatedElementSize: null | number,\r\n        elementsCount: number\r\n    ) {\r\n\r\n        // Handle unmeasured elements\r\n        let lastMeasuredIndex: number;\r\n        let totalSizeOfUnmeasuredElements = 0;\r\n        if (typeof elementSize === \"function\" && !estimatedElementSize) {\r\n\r\n            // Dynamic element size and no estimation - force evaluation of all unmeasured elements.\r\n            this.getElementInfo(elementType, elementsCount - 1, elementSize);\r\n\r\n            // Update last measured index after evaluation\r\n            lastMeasuredIndex = Math.min(this.data[elementType].lastMeasuredIndex, elementsCount - 1);\r\n\r\n        } else {\r\n\r\n            // Constant element size - use simple multiplication for unmeasured elements.\r\n            lastMeasuredIndex = Math.min(this.data[elementType].lastMeasuredIndex, elementsCount - 1);\r\n            const numUnmeasuredElementsCount = elementsCount - lastMeasuredIndex - 1;\r\n            const elementSizeOrEstimate = typeof elementSize === \"number\" ? elementSize : estimatedElementSize;\r\n            totalSizeOfUnmeasuredElements = numUnmeasuredElementsCount * elementSizeOrEstimate;\r\n        }\r\n\r\n        // Get total size of already measured elements\r\n        let totalSizeOfMeasuredElements = 0;\r\n        if (lastMeasuredIndex >= 0) {\r\n            const { cache } = this.data[elementType];\r\n            const lastMeasuredElemInfo = cache[lastMeasuredIndex];\r\n            totalSizeOfMeasuredElements = lastMeasuredElemInfo.position + lastMeasuredElemInfo.size;\r\n        }\r\n\r\n        // Sum and return\r\n        return totalSizeOfMeasuredElements + totalSizeOfUnmeasuredElements;\r\n    }\r\n\r\n    //\r\n    // private methods\r\n    //\r\n\r\n    private findNearestItem(\r\n        elementType: ElementType,\r\n        position: number,\r\n        maxIndex: number,\r\n        elementSize: number | SizeCallback\r\n    ) {\r\n\r\n        const { lastMeasuredIndex, cache } = this.data[elementType];\r\n        const lastMeasuredPosition = cache[lastMeasuredIndex]?.position ?? -1;\r\n\r\n        if (lastMeasuredPosition >= position) {\r\n\r\n            // If we've already measured items within this range just use a binary search as it's faster.\r\n            return this.findNearestItemBinarySearch(\r\n                elementType,\r\n                lastMeasuredIndex,\r\n                0,\r\n                position,\r\n                elementSize\r\n            );\r\n\r\n        } else {\r\n\r\n            // If we haven't yet measured this high, fallback to an exponential search with an inner binary search.\r\n            // The exponential search avoids pre-computing sizes for the full set of items as a binary search would.\r\n            // The overall complexity for this approach is O(log n).\r\n            return this.findNearestItemExponentialSearch(\r\n                elementType,\r\n                Math.max(lastMeasuredIndex, 0),\r\n                maxIndex,\r\n                position,\r\n                elementSize\r\n            );\r\n        }\r\n    };\r\n\r\n    private findNearestItemBinarySearch(\r\n        elementType: ElementType,\r\n        high: number,\r\n        low: number,\r\n        position: number,\r\n        elementSize: number | SizeCallback\r\n    ) {\r\n        while (low <= high) {\r\n            const middle = low + Math.floor((high - low) / 2);\r\n            const currentPosition = this.getElementInfo(elementType, middle, elementSize).position;\r\n\r\n            if (currentPosition === position) {\r\n                return middle;\r\n            } else if (currentPosition < position) {\r\n                low = middle + 1;\r\n            } else if (currentPosition > position) {\r\n                high = middle - 1;\r\n            }\r\n        }\r\n\r\n        if (low > 0) {\r\n            return low - 1;\r\n        } else {\r\n            return 0;\r\n        }\r\n    };\r\n\r\n    private findNearestItemExponentialSearch(\r\n        elementType: ElementType,\r\n        index: number,\r\n        maxIndex: number,\r\n        position: number,\r\n        elementSize: number | SizeCallback\r\n    ) {\r\n        let interval = 1;\r\n\r\n        while (\r\n            index < maxIndex &&\r\n            this.getElementInfo(elementType, index, elementSize).position < position\r\n        ) {\r\n            index += interval;\r\n            interval *= 2;\r\n        }\r\n\r\n        return this.findNearestItemBinarySearch(\r\n            elementType,\r\n            Math.min(index, maxIndex - 1),\r\n            Math.floor(index / 2),\r\n            position,\r\n            elementSize\r\n        );\r\n    };\r\n\r\n    private getElementInfo(\r\n        elementType: ElementType,\r\n        elementIndex: number,\r\n        elementSize: number | SizeCallback\r\n    ) {\r\n\r\n        const { lastMeasuredIndex, cache } = this.data[elementType];\r\n\r\n        // fill missing cache entries\r\n        if (elementIndex > lastMeasuredIndex) {\r\n\r\n            let position = 0;\r\n\r\n            // skipped already cached entries\r\n            if (lastMeasuredIndex !== -1) {\r\n                const elementInfo = cache[lastMeasuredIndex];\r\n                position = elementInfo.position + elementInfo.size;\r\n            }\r\n\r\n            // add new cache entries\r\n            for (let index = (lastMeasuredIndex + 1); index <= elementIndex; index++) {\r\n                const size = this.getSize(index, elementSize, cache[index]?.size);\r\n\r\n                cache[index] = {\r\n                    index,\r\n                    position,\r\n                    size,\r\n                };\r\n\r\n                position += size;\r\n            }\r\n\r\n            this.data[elementType].lastMeasuredIndex = elementIndex;\r\n        }\r\n\r\n        return cache[elementIndex];\r\n    }\r\n\r\n    private getSize(index: number, elementSize: number | SizeCallback, cache: number): number {\r\n\r\n        if (cache !== null && cache !== undefined)\r\n            return cache;\r\n\r\n        if (typeof elementSize === \"number\")\r\n            return elementSize;\r\n\r\n        if (typeof elementSize === \"function\")\r\n            return elementSize(index);\r\n\r\n        throw new Error(\r\n            `Invalid argument '${nameof(elementSize)}' expected a number or a function ` +\r\n            `but received '${typeof elementSize}': ${elementSize}.`\r\n        );\r\n    }\r\n}","import * as React from 'react';\r\nimport { DocDir, ScrollDirection, ScrollEvent, SizeCallback } from '../../types';\r\nimport { areShallowEqual, NormalizedScrollEvent, ReactUtils, ScrollUtils } from '../utils';\r\nimport { RecycleManager } from './recycleManager';\r\nimport { VirtualCell } from './VirtualCell';\r\nimport { ElementInfo, WindowCalculator } from './windowCalculator';\r\n\r\nexport interface RenderWindowCellProps {\r\n    colIndex: number;\r\n    rowIndex: number;\r\n    height: number;\r\n    width: number;\r\n}\r\n\r\nexport class VirtualWindowProps {\r\n    public direction?: DocDir = 'ltr';\r\n    /**\r\n     * Allow scrolling only via calling the `scrollTo` method.\r\n     */\r\n    public controlledScroll?: boolean;\r\n    public scrollDirection?: ScrollDirection = 'both';\r\n    public height: number;\r\n    public width: number;\r\n    public columnCount: number;\r\n    public rowCount: number;\r\n    public columnWidth: number | SizeCallback;\r\n    public rowHeight: number | SizeCallback;\r\n    public overscanColumnsCount?= 0;\r\n    public overscanRowCount?= 0;\r\n\r\n    /**\r\n     * Tag name passed to `React.createElement` to create the inner \"scrollable\r\n     * area\" element. This is an advanced property.\r\n     */\r\n    public innerElementType?: React.ElementType = 'div';\r\n    /**\r\n     * Ref to attach to the inner \"scrollable area\" element. This is an advanced\r\n     * property.\r\n     */\r\n    public innerRef?: React.RefObject<any>;\r\n    /**\r\n     * Tag name passed to `React.createElement` to create the outer container\r\n     * element. This is an advanced property.\r\n     */\r\n    public outerElementType?: React.ElementType = 'div';\r\n    /**\r\n     * Ref to attach to the outer container element. This is an advanced property.\r\n     */\r\n    public outerRef?: React.RefObject<any>;\r\n\r\n    /**\r\n     * We are only using classes for easier debug inspection...\r\n     */\r\n    public className?: string;\r\n    public style?: React.CSSProperties;\r\n\r\n    public children: (props: RenderWindowCellProps) => React.ReactNode;\r\n}\r\n\r\nclass VirtualWindowState {\r\n    public scrollTop = 0;\r\n    public scrollLeft = 0;\r\n    public opacity: any;\r\n}\r\n\r\nexport class VirtualWindow extends React.PureComponent<VirtualWindowProps, VirtualWindowState> {\r\n\r\n    public static defaultProps: unknown = new VirtualWindowProps();\r\n\r\n    private get className() {\r\n        return this.props.className || nameof(VirtualWindow);\r\n    }\r\n\r\n    /**\r\n     * Make sure to return a constant number of elements, this is important for\r\n     * recycling purposes.\r\n     */\r\n    private minColumnsToRender = 0;\r\n    /**\r\n     * Make sure to return a constant number of elements, this is important for\r\n     * recycling purposes.\r\n     */\r\n    private minRowsToRender = 0;\r\n\r\n    private windowCalc = new WindowCalculator();\r\n    private recycler = new RecycleManager();\r\n\r\n    private containerElement = React.createRef<HTMLDivElement>();\r\n\r\n    constructor(props: VirtualWindowProps) {\r\n        super(props);\r\n\r\n        this.state = new VirtualWindowState();\r\n    }\r\n\r\n    //\r\n    // public methods\r\n    //\r\n\r\n    public scrollTo(e: NormalizedScrollEvent): void {\r\n        this.containerElementScroll({\r\n            scrollTop: e.scrollTop,\r\n            scrollLeft: e.rawScrollLeft\r\n        });\r\n        this.setScrollState({\r\n            scrollTop: e.scrollTop,\r\n            scrollLeft: e.normalizedScrollLeft\r\n        });\r\n    }\r\n\r\n    public getScrollableHeight(): number {\r\n        return this.windowCalc.getTotalSize(\r\n            'row',\r\n            this.props.rowHeight,\r\n            null, // this.props.estimatedRowHeight,\r\n            this.props.rowCount\r\n        );\r\n    }\r\n\r\n    public getScrollableWidth(): number {\r\n        return this.windowCalc.getTotalSize(\r\n            'column',\r\n            this.props.columnWidth,\r\n            null, // this.props.estimatedColumnWidth,\r\n            this.props.columnCount\r\n        );\r\n    }\r\n\r\n    public clearCache(): void {\r\n        this.windowCalc = new WindowCalculator();\r\n        this.minColumnsToRender = 0;\r\n        this.minRowsToRender = 0;\r\n    }\r\n\r\n    //\r\n    // life cycle\r\n    //\r\n\r\n    public componentDidMount() {\r\n        this.clearCache();\r\n        this.forceUpdate();\r\n    }\r\n\r\n    public componentDidUpdate(prevProps: VirtualWindowProps) {\r\n        if (!areShallowEqual(this.props, prevProps)) {\r\n            this.clearCache();\r\n            this.forceRedraw();\r\n        }\r\n        if (this.props.outerRef) {\r\n            (this.props.outerRef as any).current = this.containerElement.current;\r\n        }\r\n    }\r\n\r\n    //\r\n    // render methods\r\n    //\r\n\r\n    public render() {\r\n\r\n        const overflow = this.props.controlledScroll ? 'hidden' : 'auto';\r\n        const onScroll = this.props.controlledScroll ? undefined : this.handleScroll;\r\n\r\n        return (\r\n\r\n            // outer element - container\r\n            React.createElement(\r\n                this.props.outerElementType,\r\n                {\r\n                    ref: this.containerElement,\r\n                    className: this.className + '_Container',\r\n                    style: {\r\n                        direction: this.props.direction,\r\n                        height: this.props.height,\r\n                        width: this.props.width,\r\n                        position: 'relative',\r\n                        overflow,\r\n                        ...this.props.style,\r\n                        opacity: this.state.opacity\r\n                    },\r\n                    onScroll: onScroll,\r\n                },\r\n\r\n                // inner element - scrollable area\r\n                React.createElement(\r\n                    this.props.innerElementType,\r\n                    {\r\n                        ref: this.props.innerRef,\r\n                        className: this.className + '_ScrollableArea',\r\n                        style: {\r\n                            height: this.getScrollableHeight(),\r\n                            width: this.getScrollableWidth()\r\n                        }\r\n                    },\r\n                    this.renderCells()\r\n                )\r\n            ));\r\n    }\r\n\r\n    private renderCells() {\r\n\r\n        // get cell indexes to render\r\n        const columns = this.windowCalc.elementsInRange(\r\n            'column',\r\n            this.state.scrollLeft,\r\n            this.state.scrollLeft + this.props.width,\r\n            this.props.overscanColumnsCount,\r\n            this.props.columnWidth,\r\n            this.minColumnsToRender,\r\n            this.props.columnCount\r\n        );\r\n        const rows = this.windowCalc.elementsInRange(\r\n            'row',\r\n            this.state.scrollTop,\r\n            this.state.scrollTop + this.props.height,\r\n            this.props.overscanRowCount,\r\n            this.props.rowHeight,\r\n            this.minRowsToRender,\r\n            this.props.rowCount\r\n        );\r\n\r\n        // always render the same amount of items (important for recycling)\r\n        this.minColumnsToRender = columns.length;\r\n        this.minRowsToRender = rows.length;\r\n\r\n        // free unused stable keys before rendering\r\n        const originalKeys: React.Key[] = [];\r\n        for (const row of rows) {\r\n            for (const col of columns) {\r\n                originalKeys.push(this.getCellOriginalKey(col.index, row.index));\r\n            }\r\n        }\r\n        this.recycler.freeUnusedKeys(originalKeys);\r\n\r\n        // render cells\r\n        const cells: React.ReactElement[] = [];\r\n        for (const row of rows) {\r\n            for (const col of columns) {\r\n\r\n                const originalKey = this.getCellOriginalKey(col.index, row.index);\r\n                const stableKey = this.recycler.getStableKey(originalKey);\r\n\r\n                cells.push(this.renderCell(col, row, stableKey));\r\n            }\r\n        }\r\n\r\n        // sort the cells by key order (important for recycling)\r\n        cells.sort((a, b) => ReactUtils.compareKeys(a.key, b.key));\r\n\r\n        return cells;\r\n    }\r\n\r\n    private renderCell(col: ElementInfo, row: ElementInfo, stableKey: React.Key): React.ReactElement {\r\n        return (\r\n            <VirtualCell\r\n                className={this.className + '_Cell'}\r\n                key={stableKey}\r\n                direction={this.props.direction}\r\n                height={row.size}\r\n                width={col.size}\r\n                top={row.position}\r\n                left={col.position}\r\n            >\r\n                {this.props.children({\r\n                    colIndex: col.index,\r\n                    rowIndex: row.index,\r\n                    height: row.size,\r\n                    width: col.size\r\n                })}\r\n            </VirtualCell>\r\n        );\r\n    }\r\n\r\n    //\r\n    // scroll handlers\r\n    //\r\n\r\n    private handleScroll = (e: React.UIEvent<HTMLDivElement>): void => {\r\n        const normalized = ScrollUtils.normalizeScrollEvent(e, this.props.direction);\r\n        this.setScrollState({\r\n            scrollTop: normalized.scrollTop,\r\n            scrollLeft: normalized.normalizedScrollLeft\r\n        });\r\n    };\r\n\r\n    private containerElementScroll(e: ScrollEvent): void {\r\n        switch (this.props.scrollDirection) {\r\n\r\n            case 'both':\r\n                window.requestAnimationFrame(() => {\r\n                    this.containerElement.current.scrollTop = e.scrollTop;\r\n                    this.containerElement.current.scrollLeft = e.scrollLeft;\r\n                });\r\n                break;\r\n\r\n            case 'vertical':\r\n                window.requestAnimationFrame(() => {\r\n                    this.containerElement.current.scrollTop = e.scrollTop;\r\n                });\r\n                break;\r\n\r\n            case 'horizontal':\r\n                window.requestAnimationFrame(() => {\r\n                    this.containerElement.current.scrollLeft = e.scrollLeft;\r\n                });\r\n                break;\r\n\r\n            case 'none':\r\n                break;\r\n\r\n            default:\r\n                throw new Error(`Invalid ${nameof(this.props.scrollDirection)} value: '${this.props.scrollDirection}'.`);\r\n        }\r\n    }\r\n\r\n    private setScrollState(e: ScrollEvent): void {\r\n        switch (this.props.scrollDirection) {\r\n\r\n            case 'both':\r\n                this.setState(e);\r\n                break;\r\n\r\n            case 'vertical':\r\n                this.setState({ scrollTop: e.scrollTop });\r\n                break;\r\n\r\n            case 'horizontal':\r\n                this.setState({ scrollLeft: e.scrollLeft });\r\n                break;\r\n\r\n            case 'none':\r\n                break;\r\n\r\n            default:\r\n                throw new Error(`Invalid ${nameof(this.props.scrollDirection)} value: '${this.props.scrollDirection}'.`);\r\n        }\r\n    }\r\n\r\n    //\r\n    // render helpers\r\n    //\r\n\r\n    private getCellOriginalKey(colIndex: number, rowIndex: number): React.Key {\r\n        return `${colIndex}, ${rowIndex}`;\r\n    }\r\n\r\n    private forceRedraw() {\r\n        \r\n        if (this.props.direction !== 'rtl') {\r\n            this.forceUpdate();\r\n            return;\r\n        }\r\n\r\n        // For some reason Chrome does not correctly redraw in RTL mode...\r\n        // https://stackoverflow.com/questions/8840580/force-dom-redraw-refresh-on-chrome-mac#29946331\r\n        const opacity = ((this.props.style?.opacity as number) ?? 1) - 0.01;\r\n        this.setState(\r\n            { opacity },\r\n            () => setTimeout(() => this.setState({ opacity: undefined }), 0)\r\n        );\r\n    }\r\n}","export * from './recycleManager';\r\nexport * from './VirtualCell';\r\nexport * from './VirtualWindow';\r\nexport * from './windowCalculator';\r\n","module.exports = require(\"@emotion/styled-base\");","module.exports = require(\"react-virtualized-auto-sizer\");","import * as React from 'react';\r\nimport Scrollbars from 'react-custom-scrollbars';\r\n\r\nexport interface CustomScrollbarsProps {\r\n    style?: React.CSSProperties;\r\n    onScroll?: any;\r\n    forwardedRef: React.RefFunction<any> | React.RefObject<any>;\r\n    children?: React.ReactNode;\r\n}\r\n\r\nclass CustomScrollbarsInner extends React.PureComponent<CustomScrollbarsProps> {\r\n    public render() {\r\n\r\n        // https://github.com/bvaughn/react-window/issues/110#issuecomment-469061213\r\n\r\n        const refSetter = (elem: any) => {\r\n            if (!this.props.forwardedRef)\r\n                return;\r\n\r\n            const ref = (elem || {}).view;\r\n            if (typeof this.props.forwardedRef === 'function') {\r\n                this.props.forwardedRef(ref);\r\n            } else {\r\n                (this.props.forwardedRef as any).current = ref;\r\n            }\r\n        };\r\n\r\n        return (\r\n            <Scrollbars\r\n                ref={refSetter}\r\n                style={{\r\n                    ...this.props.style,\r\n                    overflow: 'hidden',\r\n                    direction: 'ltr'\r\n                }}\r\n                onScroll={this.props.onScroll}\r\n            >\r\n                {this.props.children}\r\n            </Scrollbars>\r\n        );\r\n    }\r\n}\r\n\r\nexport const CustomScrollbars = React.forwardRef((props, ref) => (\r\n    <CustomScrollbarsInner {...props} forwardedRef={ref as any} />\r\n));\r\nCustomScrollbars.displayName = 'CustomScrollbars';","export * from './List';\r\nexport * from './NonVirtualList';\r\nexport * from './VirtualList';\r\n","import * as React from 'react';\r\nimport { CustomScrollbars } from '../CustomScrollbars';\r\nimport { ListProps } from './List';\r\n\r\nexport class NonVirtualList extends React.PureComponent<ListProps> {\r\n\r\n    private get isHorizontal(): boolean {\r\n        return this.props.layout === 'horizontal';\r\n    }\r\n\r\n    private disableScrollEvents = false;\r\n\r\n    private readonly listRef = React.createRef<HTMLDivElement>();\r\n\r\n    public scrollTo = (scrollOffset: number) => {\r\n        const currentInner = this.listRef.current;\r\n        if (currentInner) {\r\n\r\n            if (scrollOffset === undefined)\r\n                return;\r\n\r\n            const currentOffset = (this.isHorizontal ? currentInner.scrollLeft : currentInner.scrollTop);\r\n            if (scrollOffset === currentOffset)\r\n                return;\r\n\r\n            this.disableScrollEvents = true;\r\n            currentInner.scrollTo({\r\n                top: (this.isHorizontal ? undefined : scrollOffset),\r\n                left: (this.isHorizontal ? scrollOffset : undefined)\r\n            });\r\n        }\r\n    };\r\n\r\n    public render() {\r\n\r\n        const listStyle: React.CSSProperties = {\r\n            height: this.props.height,\r\n            width: this.props.width,\r\n            direction: this.props.dir,\r\n            boxSizing: 'content-box',\r\n            outline: 'none',\r\n            overflow: 'auto',\r\n            [this.isHorizontal ? 'overflowY' : 'overflowX']: 'hidden'\r\n        };\r\n\r\n        if (this.isHorizontal) {\r\n            listStyle.display = 'flex';\r\n        }\r\n\r\n        return React.createElement(this.getListElementType() as any,\r\n            {\r\n                ref: this.listRef,\r\n                style: listStyle,\r\n                onScroll: this.handleOnScroll\r\n            },\r\n\r\n            // rows\r\n            Array(this.props.itemCount).fill(0).map((_, index) => (\r\n                <div\r\n                    key={index}\r\n                    style={{\r\n                        [this.isHorizontal ? 'width' : 'height']: this.props.itemSize(index),\r\n                        [this.isHorizontal ? 'height' : 'width']: (this.isHorizontal ? this.props.height : this.props.width)\r\n                    }}\r\n                >\r\n\r\n                    {/* content */}\r\n                    {this.props.children(index)}\r\n\r\n                </div>\r\n            ))\r\n        );\r\n    }\r\n\r\n    private handleOnScroll = (e: React.UIEvent<HTMLDivElement>): void => {\r\n        if (this.disableScrollEvents) {\r\n            this.disableScrollEvents = false;\r\n            return;\r\n        }\r\n\r\n        if (!this.props.onScroll)\r\n            return;\r\n\r\n        const { scrollTop, scrollLeft } = e.currentTarget;\r\n        this.props.onScroll(this.isHorizontal ? scrollLeft : scrollTop);\r\n    };\r\n\r\n    private getListElementType() {\r\n        return this.props.customScrollbar ? CustomScrollbars : 'div';\r\n    }\r\n}","import * as React from 'react';\r\nimport { CustomScrollbars } from '../CustomScrollbars';\r\nimport { DomUtils } from '../utils';\r\nimport { RenderWindowCellProps, VirtualWindow, WindowCalculator } from '../window';\r\nimport { List, ListProps } from './List';\r\n\r\nexport interface VirtualListProps extends ListProps {\r\n    keyScroll?: boolean;\r\n}\r\n\r\nexport class VirtualList extends React.PureComponent<VirtualListProps> implements List {\r\n\r\n    private get isHorizontal(): boolean {\r\n        return this.props.layout === 'horizontal';\r\n    }\r\n\r\n    private windowRef = React.createRef<VirtualWindow>();\r\n\r\n    private initialCalculator = new WindowCalculator();\r\n\r\n    public refresh() {\r\n        if (this.windowRef.current) {\r\n            this.windowRef.current.clearCache();\r\n        }\r\n        this.forceUpdate();\r\n    }\r\n\r\n    public scrollTo(offset: number): void {\r\n        if (this.windowRef.current) {\r\n\r\n            const top = (this.isHorizontal ? undefined : offset);\r\n            const left = (this.isHorizontal ? offset : undefined);\r\n\r\n            this.windowRef.current.scrollTo({\r\n                scrollTop: top,\r\n                rawScrollLeft: left,\r\n                normalizedScrollLeft: left\r\n            });\r\n        }\r\n    }\r\n\r\n    public render() {\r\n        return (\r\n            <VirtualWindow\r\n\r\n                ref={this.windowRef}\r\n\r\n                direction={this.props.dir}\r\n                scrollDirection={this.isHorizontal ? 'horizontal' : 'vertical'}\r\n\r\n                style={Object.assign({ outline: 'none' }, this.props.style)}\r\n                outerElementType={this.getOuterElementType()}\r\n\r\n                height={this.props.height}\r\n                width={this.props.width}\r\n\r\n                columnCount={this.isHorizontal ? this.props.itemCount : 1}\r\n                rowCount={this.isHorizontal ? 1 : this.props.itemCount}\r\n\r\n                columnWidth={this.isHorizontal ? this.props.itemSize : this.props.width - this.getVerticalScrollbarWidth()}\r\n                rowHeight={this.isHorizontal ? this.props.height - this.getHorizontalScrollbarWidth() : this.props.itemSize}\r\n\r\n                overscanColumnsCount={this.isHorizontal ? this.props.overscan : 0}\r\n                overscanRowCount={this.isHorizontal ? 0 : this.props.overscan}\r\n            >\r\n                {cellProps => this.renderRow(cellProps)}\r\n            </VirtualWindow>\r\n        );\r\n    }\r\n\r\n    private renderRow(cellProps: RenderWindowCellProps) {\r\n        const index = (this.props.layout === 'horizontal' ? cellProps.colIndex : cellProps.rowIndex);\r\n        const row = this.props.children(index);\r\n\r\n        return React.cloneElement(row, {\r\n            style: {\r\n                ...row.props.style\r\n            }\r\n        });\r\n    }\r\n\r\n    //\r\n    // render helpers\r\n    //\r\n\r\n    private getVerticalScrollbarWidth(): number {\r\n        const scrollableHeight = this.getScrollableHeight();\r\n        const hasVerticalScrollbar = scrollableHeight > this.props.height;\r\n        return (hasVerticalScrollbar && DomUtils.scrollbarWidth) || 0;\r\n    }\r\n\r\n    private getHorizontalScrollbarWidth(): number {\r\n        const scrollableWidth = this.getScrollableWidth();\r\n        const hasHorizontalScrollbar = scrollableWidth > this.props.width;\r\n        return (hasHorizontalScrollbar && DomUtils.scrollbarWidth) || 0;\r\n    }\r\n\r\n    private getScrollableHeight() {\r\n        if (this.windowRef.current)\r\n            return this.windowRef.current.getScrollableHeight();\r\n\r\n        // Body not rendered yet - have to calculate independently.  \r\n        // Not so DRY, breaks encapsulation and not very efficient either but I\r\n        // couldn't find a better way to do that which is not terribly ugly...\r\n        return this.initialCalculator.getTotalSize(\r\n            'row',\r\n            this.props.itemSize,\r\n            undefined,\r\n            this.props.itemCount\r\n        );\r\n    }\r\n\r\n    private getScrollableWidth() {\r\n        if (this.windowRef.current)\r\n            return this.windowRef.current.getScrollableWidth();\r\n\r\n        // Body not rendered yet - have to calculate independently.  \r\n        // Not so DRY, breaks encapsulation and not very efficient either but I\r\n        // couldn't find a better way to do that which is not terribly ugly...\r\n        return this.initialCalculator.getTotalSize(\r\n            'column',\r\n            this.props.itemSize,\r\n            undefined,\r\n            this.props.itemCount\r\n        );\r\n    }\r\n\r\n    private getOuterElementType() {\r\n        return this.props.customScrollbar ? CustomScrollbars : undefined;\r\n    }\r\n}","import * as React from 'react';\r\nimport { CellRender } from './TableCell';\r\n\r\nexport class ColumnBodyProps {\r\n    public children?: CellRender;\r\n}\r\n\r\nexport class ColumnBody extends React.PureComponent<ColumnBodyProps> { }","import * as React from 'react';\r\nimport { TableCellProps } from './TableCell';\r\n\r\nexport interface ColumnHeadProps extends TableCellProps {\r\n}\r\n\r\nexport class ColumnHead extends React.PureComponent<ColumnHeadProps> { }","import * as React from 'react';\r\nimport { isNullOrUndefined } from '../internal/utils';\r\nimport { RowRender } from './TableRow';\r\n\r\nexport class TableBodyProps {\r\n    public children?: RowRender;\r\n}\r\n\r\nexport class TableBody extends React.PureComponent<TableBodyProps> {\r\n\r\n    public static hasChildren(body: TableBody): boolean {\r\n        if (!body)\r\n            return false;\r\n\r\n        if (isNullOrUndefined(body.props.children))\r\n            return false;\r\n\r\n        if (typeof body.props.children === 'function')\r\n            return true;\r\n\r\n        if (Array.isArray(body.props.children))\r\n            return body.props.children.length > 0;\r\n\r\n        const childrenCount = React.Children.count(body.props.children);\r\n        return childrenCount > 0;\r\n    }\r\n}","import styled from '@emotion/styled';\r\nimport { DomUtils } from '../internal/utils';\r\n\r\nconst tableBorder = '1px solid #ddd';\r\n\r\nexport const StyledTableView = styled.div`\r\n    width: 100%;\r\n    overflow-y: hidden;\r\n`;\r\n\r\nexport const StyledTableCell = styled.div`\r\n    flex: 1;\r\n    overflow: hidden;\r\n    text-overflow: ellipsis;\r\n    box-sizing: border-box;\r\n\r\n    ${props => props.theme.defaultTheme ? `\r\n        padding: 8px;\r\n        vertical-align: middle;\r\n        ` : ''};\r\n`;\r\n\r\nexport const StyledTableHead = styled.div`\r\n    direction: ${props => props.theme.dir};\r\n\r\n    display: flex;\r\n    overflow-y: hidden;\r\n\r\n    /* add padding to compensate for scrollbar width */\r\n    ${props => (props.theme.dir === 'rtl' ? 'padding-left' : 'padding-right')}: ${DomUtils.scrollbarWidth}px;\r\n    \r\n    ${props => props.theme.defaultTheme ? `\r\n        border-bottom: ${tableBorder};\r\n        ` : ''};\r\n\r\n    & ${StyledTableCell} {\r\n        ${props => props.theme.defaultTheme ? `\r\n            vertical-align: bottom;\r\n            font-weight: bold;\r\n            ` : ''}\r\n    }\r\n`;\r\n\r\nexport const StyledTableBody = styled.div`\r\n    /* no style... */\r\n`;\r\n\r\nexport interface RowProps {\r\n    index: number;\r\n}\r\n\r\nexport const StyledTableRow = styled.div<RowProps>`\r\n    display: flex;\r\n    justify-content: stretch;\r\n    height: 100%;\r\n    width: 100%;\r\n\r\n    ${props => props.theme.defaultTheme ? `\r\n        border-top: ${props.index === 0 ? 'none' : tableBorder};\r\n        ` : ''}\r\n    }\r\n`;\r\n","import * as React from 'react';\r\nimport { ErrorBoundary } from '../internal/ErrorBoundary';\r\nimport { StyledTableCell } from './style';\r\n\r\nconst TableCellSymbol = '__ReactTablize__TableCell__';\r\n\r\nexport type CellContent = React.ReactNode;\r\n\r\nexport interface TableCellProps extends React.DivProps {\r\n    children?: CellContent;\r\n    visible?: boolean;\r\n}\r\n\r\nexport class TableCell extends React.PureComponent<TableCellProps> {\r\n\r\n    public static defaultProps: TableCellProps = {\r\n        [TableCellSymbol as any]: true\r\n    };\r\n\r\n    public static isTableCell(cell: unknown): cell is React.ReactElement<TableCellProps> {\r\n        return React.isValidElement(cell) && (cell.props as any)[TableCellSymbol];\r\n    }\r\n\r\n    public static getCellProps(cell: unknown): TableCellProps {\r\n        return (TableCell.isTableCell(cell) && cell.props) || {};\r\n    }\r\n\r\n    public static getCellContent(cell: unknown): CellContent {\r\n        return TableCell.isTableCell(cell) ?\r\n            cell.props.children :\r\n            cell;\r\n    }\r\n\r\n    public render() {\r\n        return (\r\n            <StyledTableCell {...this.props}>\r\n                <ErrorBoundary>\r\n                    {this.props.children}\r\n                </ErrorBoundary>\r\n            </StyledTableCell>\r\n        );\r\n    }\r\n}\r\n\r\nexport interface CellRenderArgs {\r\n    rowIndex: number;\r\n    columnIndex: number;\r\n}\r\n\r\nexport type CellRender = (args: CellRenderArgs) => TableCell | CellContent;","import * as React from 'react';\r\nimport { RowContent } from './TableRow';\r\n\r\nexport interface TableHeadProps extends React.DivProps {\r\n    children?: RowContent;\r\n}\r\n\r\nexport class TableHead extends React.PureComponent<TableHeadProps> { }","import * as React from 'react';\r\nimport { ReactUtils } from '../internal/utils';\r\nimport { ColumnBody } from './ColumnBody';\r\nimport { ColumnHead } from './ColumnHead';\r\nimport { TableBody } from './TableBody';\r\nimport { TableCell } from './TableCell';\r\nimport { TableHead } from './TableHead';\r\n\r\nexport class TableColumnProps {\r\n    public children?: [React.SubComp<ColumnHead>, React.SubComp<ColumnBody>];\r\n}\r\n\r\nexport class TableColumn extends React.PureComponent<TableColumnProps> { \r\n\r\n    public static createHeadFromColumns(columns: TableColumn[]): TableHead {\r\n\r\n        if (columns.every(col => !ReactUtils.singleChildOfType(col, ColumnHead)))\r\n            return null;\r\n\r\n        const head: any = (\r\n            <TableHead>\r\n                {columns.map(col => {\r\n                    const colHead = ReactUtils.singleChildOfType(col, ColumnHead);\r\n                    if (!colHead)\r\n                        return null;\r\n\r\n                    // eslint-disable-next-line react/jsx-key\r\n                    return <TableCell {...(colHead.props as any)} />;\r\n                })}\r\n            </TableHead>\r\n        );\r\n        return head;\r\n    }\r\n\r\n    public static createBodyFromColumns(columns: TableColumn[]): TableBody {\r\n        const body: any = (\r\n            <TableBody>\r\n                {(rowIndex: number) => columns.map((col, columnIndex) => {\r\n                    const cellRender = ReactUtils.singleChildOfType(col, ColumnBody).props.children;\r\n                    if (!cellRender)\r\n                        return null;\r\n                    return cellRender({ rowIndex, columnIndex });\r\n                })}\r\n            </TableBody>\r\n        );\r\n        return body;\r\n    }    \r\n}","import * as React from 'react';\r\nimport { ErrorBoundary } from '../internal/ErrorBoundary';\r\nimport { OneOrMore } from '../types';\r\nimport { StyledTableRow } from './style';\r\nimport { CellContent, TableCell } from './TableCell';\r\nconst flattenDeep = require('lodash.flattendeep');\r\n\r\nconst TableRowSymbol = '__ReactTablize__TableRow__';\r\n\r\n/**\r\n * One or more cells.\r\n */\r\nexport type RowContent = OneOrMore<React.SubComp<TableCell> | CellContent>;\r\n\r\nexport interface TableRowProps extends React.DivProps {\r\n    children?: RowContent;\r\n}\r\n\r\nexport class TableRow extends React.PureComponent<TableRowProps> {\r\n\r\n    public static defaultProps: unknown = {\r\n        [TableRowSymbol as any]: true\r\n    };\r\n\r\n    public static isTableRow(row: unknown): row is React.ReactElement<TableRowProps> {\r\n        return React.isValidElement(row) && (row.props as any)[TableRowSymbol];\r\n    }\r\n\r\n    public static getRowProps(row: unknown): TableRowProps {\r\n        return (TableRow.isTableRow(row) && row.props) || {};\r\n    }\r\n\r\n    public static getRowContent(row: unknown): RowContent {\r\n\r\n        let content: RowContent = row;\r\n\r\n        // row element\r\n        if (TableRow.isTableRow(content)) {\r\n            content = content.props.children;\r\n        }\r\n\r\n        // actual content\r\n        if (Array.isArray(content)) {\r\n            content = flattenDeep(content);\r\n        }\r\n        return content;\r\n    }\r\n\r\n    public render() {\r\n        return (\r\n            <StyledTableRow\r\n                {...this.props}\r\n                index={this.props.key as number}\r\n            >\r\n                <ErrorBoundary>\r\n                    {this.props.children}\r\n                </ErrorBoundary>\r\n            </StyledTableRow>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nexport type RowRender = (index: number) => React.SubComp<TableRow> | RowContent;","import { Theme } from '@emotion/styled';\r\nimport { ThemeProvider } from 'emotion-theming';\r\nimport * as React from 'react';\r\nimport AutoSizer from 'react-virtualized-auto-sizer';\r\nimport { ErrorBoundary } from '../internal/ErrorBoundary';\r\nimport { List, NonVirtualList, VirtualList } from '../internal/list';\r\nimport { asArray, ElementHeights, isNullOrUndefined, ReactUtils, SizeUtils } from '../internal/utils';\r\nimport { DocDir, OneOrMore, SizeCallback } from '../types';\r\nimport { StyledTableBody, StyledTableHead, StyledTableView } from './style';\r\nimport { TableBody } from './TableBody';\r\nimport { TableCell } from './TableCell';\r\nimport { TableColumn } from './TableColumn';\r\nimport { TableHead } from './TableHead';\r\nimport { RowRender, TableRow, TableRowProps } from './TableRow';\r\n\r\ninterface TableHeights {\r\n    total: string | number;\r\n    head: string | number;\r\n}\r\n\r\ntype TableChildren_RowsSyntax = [React.SubComp<TableHead>, React.SubComp<TableBody>];\r\n\r\ntype TableChildren_ColumnsSyntax = OneOrMore<React.SubComp<TableColumn>>;\r\n\r\n/**\r\n * Applicable only on non-virtual tables.\r\n */\r\nexport const RowAutoSize = (): number => undefined;\r\n\r\nexport type RowKeyCallback = (index: number) => React.Key;\r\n\r\nexport class TableViewProps {\r\n\r\n    //\r\n    // main props\r\n    //\r\n\r\n    public isVirtual?: boolean;\r\n    public rowCount: number;\r\n    public rowKey?: RowKeyCallback;\r\n    public children?: TableChildren_RowsSyntax | TableChildren_ColumnsSyntax;\r\n\r\n    //\r\n    // appearance\r\n    //\r\n\r\n    public dir?: DocDir = 'ltr';\r\n    public className?: string;\r\n    public style?: React.CSSProperties;\r\n    /**\r\n     * Row height in pixels.  \r\n     * \r\n     * Default: 50\r\n     */\r\n    public rowHeight?: number | SizeCallback = 50;\r\n    public placeholder?: React.ReactNode;\r\n    public defaultStyle?= true;\r\n    public customScrollbars?: boolean;\r\n\r\n    //\r\n    // virtualization\r\n    //\r\n\r\n    /**\r\n     * Number of extra buffer items to render above/below the visible items.\r\n     * Tweaking this can help reduce scroll flickering on certain\r\n     * browsers/devices.  \r\n     * \r\n     * Default: 20\r\n     */\r\n    public overscanCount?= 20;\r\n}\r\n\r\nexport class TableView extends React.PureComponent<TableViewProps> {\r\n\r\n    public static readonly defaultHeight = '35vh';\r\n    public static readonly defaultHeadHeight = '40px';\r\n\r\n    //\r\n    // nested types\r\n    //\r\n\r\n    public static Head = TableHead;\r\n\r\n    public static Body = TableBody;\r\n\r\n    public static Row = TableRow;\r\n\r\n    public static Cell = TableCell;\r\n\r\n    public static Column = TableColumn;\r\n\r\n    //\r\n    // component code\r\n    //\r\n\r\n    public static defaultProps: unknown = new TableViewProps();\r\n\r\n    private tableElement = React.createRef<List>();\r\n\r\n    //\r\n    // public methods\r\n    //\r\n\r\n    public refresh() {\r\n        if (this.tableElement.current) {\r\n            this.tableElement.current.refresh();\r\n        }\r\n        this.forceUpdate();\r\n    }\r\n\r\n    //\r\n    // render methods\r\n    //\r\n\r\n    public render() {\r\n\r\n        // head & body\r\n        let head = ReactUtils.singleChildOfType(this, TableHead);\r\n        let body = ReactUtils.singleChildOfType(this, TableBody);\r\n        const columns = ReactUtils.childrenOfType(this, TableColumn);\r\n\r\n        // columns\r\n        if (columns && columns.length) {\r\n            if (head || body)\r\n                throw new Error('Can not specify head and/or body when specifying table columns.');\r\n\r\n            head = TableColumn.createHeadFromColumns(columns);\r\n            body = TableColumn.createBodyFromColumns(columns);\r\n        }\r\n\r\n        // render\r\n        return (\r\n            <ThemeProvider theme={this.getTheme()}>\r\n                <ErrorBoundary>\r\n                    <StyledTableView\r\n                        className={this.props.className}\r\n                        style={{\r\n                            ...this.props.style,\r\n                            ...SizeUtils.getElementHeights(this, TableView.defaultHeight)\r\n                        }}\r\n                    >\r\n                        {this.renderTableHead(head)}\r\n                        {this.renderTableBody(head, body)}\r\n                    </StyledTableView>\r\n                </ErrorBoundary>\r\n            </ThemeProvider>\r\n        );\r\n    }\r\n\r\n    private renderTableHead(head: TableHead) {\r\n\r\n        if (!head)\r\n            return null;\r\n\r\n        const { children, ...divProps } = head.props;\r\n\r\n        return (\r\n            <StyledTableHead\r\n                dir={this.props.dir as any}\r\n                {...divProps}\r\n                style={{\r\n                    ...head.props.style,\r\n                    ...SizeUtils.getElementHeights(head, TableView.defaultHeadHeight)\r\n                }}\r\n            >\r\n                {React.Children.map(children, this.renderCell)}\r\n            </StyledTableHead>\r\n        );\r\n    }\r\n\r\n    private renderTableBody(head: TableHead, body: TableBody) {\r\n\r\n        const bodyHeights = this.getBodyHeights(this, head, {\r\n            total: TableView.defaultHeight,\r\n            head: TableView.defaultHeadHeight\r\n        });\r\n\r\n        return (\r\n            <StyledTableBody\r\n                style={{\r\n                    direction: this.props.dir,\r\n                    ...bodyHeights\r\n                }}\r\n            >\r\n                <ErrorBoundary>\r\n                    {this.renderTableRows(body)}\r\n                </ErrorBoundary>\r\n            </StyledTableBody>\r\n        );\r\n    }\r\n\r\n    private renderTableRows(body: TableBody) {\r\n\r\n        // placeholder\r\n        if (this.props.rowCount === 0 || !TableBody.hasChildren(body)) {\r\n            return this.renderItemsPlaceHolder();\r\n        }\r\n\r\n        // table rows\r\n        const rowRender = body.props.children;\r\n        const ListComponent = this.getListComponent();\r\n        return (\r\n            <AutoSizer>\r\n                {({ width, height }) => (\r\n                    <ListComponent\r\n                        ref={this.tableElement as React.Ref<any>}\r\n                        style={{ outline: 'none' }}\r\n                        dir={this.props.dir}\r\n                        layout=\"vertical\"\r\n                        height={height}\r\n                        width={width}\r\n                        itemCount={this.props.rowCount}\r\n                        itemSize={this.getRowHeight}\r\n                        overscan={this.props.overscanCount}\r\n                        customScrollbar={this.props.customScrollbars}\r\n                    >\r\n                        {index => this.renderBodyRow(index, rowRender)}\r\n                    </ListComponent>\r\n                )}\r\n            </AutoSizer>\r\n        );\r\n    }\r\n\r\n    private renderBodyRow(index: number, rowRender: RowRender) {\r\n        if (!rowRender)\r\n            return null;\r\n\r\n        const row = rowRender(index);\r\n        let rowContent = TableRow.getRowContent(row);\r\n        rowContent = asArray(rowContent).map(this.renderCell);\r\n\r\n        // already a row - just adjust the content\r\n        if (TableRow.isTableRow(row)) {\r\n            const rowKey = this.getRowKey(row.props, index);\r\n            return React.cloneElement(row, { key: rowKey }, rowContent);\r\n        }\r\n\r\n        // not a row - wrap content with row element\r\n        else {\r\n            const rowKey = this.getRowKey({}, index);\r\n            return (\r\n                <TableRow key={rowKey}>\r\n                    {rowContent}\r\n                </TableRow>\r\n            );\r\n        }\r\n    }\r\n\r\n    private renderCell(cell: unknown, columnIndex: number) {\r\n        const cellProps = TableCell.getCellProps(cell);\r\n        if (cellProps.visible === false)\r\n            return null;\r\n\r\n        // already a cell - just add key and return\r\n        if (TableCell.isTableCell(cell)) {\r\n            return React.cloneElement(cell, { key: columnIndex });\r\n        }\r\n\r\n        // not a cell - wrap content with cell element\r\n        return (\r\n            <TableCell key={columnIndex}>\r\n                {cell}\r\n            </TableCell>\r\n        );\r\n    }\r\n\r\n    private renderItemsPlaceHolder() {\r\n\r\n        if (this.props.placeholder)\r\n            return this.props.placeholder;\r\n\r\n        return (\r\n            <div>\r\n                <div style={{ textAlign: 'center' }}>\r\n                    No Items to Display\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    //\r\n    // helpers\r\n    //\r\n\r\n    private getTheme(): Theme {\r\n        return {\r\n            dir: this.props.dir,\r\n            defaultTheme: this.props.defaultStyle\r\n        };\r\n    }\r\n\r\n    private getListComponent() {\r\n        return this.props.isVirtual !== false ?\r\n            VirtualList :\r\n            NonVirtualList;\r\n    }\r\n\r\n    private getRowKey(rowProps: TableRowProps, index: number): React.Key {\r\n\r\n        if (!isNullOrUndefined(rowProps.key))\r\n            return rowProps.key;\r\n\r\n        if (typeof this.props.rowKey === 'function')\r\n            return this.props.rowKey(index);\r\n\r\n        return index;\r\n    }\r\n\r\n    private getRowHeight = (rowIndex: number): number => {\r\n        if (typeof this.props.rowHeight === 'function')\r\n            return this.props.rowHeight(rowIndex);\r\n        return this.props.rowHeight;\r\n    };\r\n\r\n    private getBodyHeights(table: React.ComponentWithStyle, head: React.ComponentWithStyle, defaultHeights: TableHeights): ElementHeights {\r\n\r\n        const totalHeights = SizeUtils.getElementHeights(table, defaultHeights.total);\r\n        const headHeight = this.getHeadHeight(head, defaultHeights.head);\r\n        const bodyHeights = SizeUtils.getElementHeights(table, undefined);\r\n\r\n        let height = bodyHeights.height || totalHeights.height;\r\n        let minHeight = bodyHeights.minHeight || totalHeights.minHeight;\r\n        let maxHeight = bodyHeights.maxHeight || totalHeights.maxHeight;\r\n\r\n        if (headHeight) {\r\n            height = `calc(${height} - ${headHeight})`;\r\n            if (minHeight)\r\n                minHeight = `calc(${minHeight} - ${headHeight})`;\r\n            if (maxHeight)\r\n                maxHeight = `calc(${maxHeight} - ${headHeight})`;\r\n        }\r\n\r\n        return {\r\n            height,\r\n            minHeight,\r\n            maxHeight\r\n        };\r\n    }\r\n\r\n    private getHeadHeight(head: React.ComponentWithStyle, defaultHeight: string | number): string | number {\r\n        if (head) {\r\n            return SizeUtils.getElementHeights(head, defaultHeight).height;\r\n        }\r\n        return 0;\r\n    }\r\n}","export * from './ColumnBody';\r\nexport * from './ColumnHead';\r\nexport * from './TableBody';\r\nexport * from './TableCell';\r\nexport * from './TableColumn';\r\nexport * from './TableHead';\r\nexport * from './TableRow';\r\nexport * from './TableView';\r\n","import * as React from 'react';\r\nimport { DocDir } from '../../types';\r\nimport { areShallowEqual, DomUtils, ScrollUtils } from '../utils';\r\nimport { VirtualWindow, VirtualWindowProps, WindowCalculator } from '../window';\r\nimport { TileKey, TilePosition, TileVerticalPosition, VirtualGridProps } from './virtualGridProps';\r\n\r\ninterface TileEntry {\r\n    ref: React.RefObject<VirtualWindow>;\r\n    position: TilePosition;\r\n    tileRowTop: number;\r\n    rowIndexOffset: number;\r\n    columnIndexOffset: number;\r\n    props: Omit<VirtualWindowProps, \"children\">;\r\n}\r\n\r\ntype TilesMap = {\r\n    [key in TileKey]: TileEntry\r\n};\r\n\r\nclass VirtualGridState {\r\n    public scrollTop = 0;\r\n    public normalizedScrollLeft = 0;\r\n    public rawScrollLeft = 0;\r\n}\r\n\r\nexport class VirtualGrid extends React.PureComponent<VirtualGridProps, VirtualGridState> {\r\n\r\n    public static defaultProps: unknown = new VirtualGridProps();\r\n\r\n    private get direction(): DocDir {\r\n        return this.props.style?.direction === 'rtl' ? 'rtl' : 'ltr';\r\n    }\r\n\r\n    private get activeTiles(): TileKey[] {\r\n        return Object.keys(this.tiles) as TileKey[];\r\n    }\r\n\r\n    private tiles: Partial<TilesMap> = {};\r\n\r\n    private initialCalculator = new WindowCalculator();\r\n\r\n    constructor(props: VirtualGridProps) {\r\n        super(props);\r\n        this.state = new VirtualGridState();\r\n        this.tiles = this.createTilesMap();\r\n    }\r\n\r\n    public refresh() {\r\n        this.initialCalculator = new WindowCalculator();\r\n        this.tiles = this.createTilesMap();\r\n        this.forceUpdate();\r\n    }\r\n\r\n    //\r\n    // life cycle\r\n    //\r\n\r\n    public componentDidUpdate(prevProps: VirtualGridProps) {\r\n        if (!areShallowEqual(this.props, prevProps)) {\r\n            this.refresh();\r\n        }\r\n    }\r\n\r\n    //\r\n    // render methods\r\n    //\r\n\r\n    public render() {\r\n        return (\r\n            <div\r\n                className={this.createClassName('Main_Container')}\r\n                style={{\r\n                    direction: this.direction,\r\n                    position: 'relative',\r\n                    height: this.getContainerHeight(),\r\n                    width: this.getContainerWidth(),\r\n                    overflow: 'auto',\r\n                    ...this.props.style\r\n                }}\r\n                onScroll={this.handleScroll}\r\n            >\r\n                <div\r\n                    className={this.createClassName('Main_ScrollableArea')}\r\n                    style={{\r\n                        height: this.getScrollableHeight(),\r\n                        width: this.getScrollableWidth()\r\n                    }}\r\n                >\r\n                    {this.renderTilesRow('header')}\r\n                    {this.renderTilesRow('body')}\r\n                    {this.renderTilesRow('footer')}\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    private renderTilesRow(rowKey: TileVerticalPosition) {\r\n        const tileKeys = this.getTilesInRow(rowKey);\r\n        if (!tileKeys?.length)\r\n            return null;\r\n\r\n        const firstTile = this.tiles[tileKeys[0]];\r\n\r\n        const isRtl = this.direction === 'rtl';\r\n        const rightOrLeft = isRtl ? 'right' : 'left';\r\n\r\n        const isSticky = DomUtils.isPositionStickySupported;\r\n        const position = isSticky ? 'sticky' : 'absolute';\r\n        const topOffset = (isSticky ? 0 : this.state.scrollTop);\r\n        const leftOffset = (isSticky ? 0 : this.state.normalizedScrollLeft);\r\n\r\n        // https://stackoverflow.com/questions/58578298/position-sticky-with-direction-rtl-not-working\r\n        const marginLeft = (isSticky && isRtl ? this.state.rawScrollLeft : 0);\r\n\r\n        const width = tileKeys\r\n            .map(key => this.tiles[key].props.width)\r\n            .reduce((total, cur) => total + cur, 0);\r\n\r\n        return (\r\n            <div\r\n                className={this.createClassName('TilesRow')}\r\n                style={{\r\n                    display: 'flex',\r\n                    position,\r\n                    top: firstTile.tileRowTop + topOffset,\r\n                    [rightOrLeft]: 0 + leftOffset,\r\n                    marginLeft,\r\n                    height: firstTile.props.height,\r\n                    width\r\n                }}\r\n            >\r\n                {tileKeys.map(this.renderTile)}\r\n            </div>\r\n        );\r\n    }\r\n\r\n    private renderTile = (tileKey: TileKey): React.ReactNode => {\r\n        const { ref, props, rowIndexOffset, columnIndexOffset } = this.tiles[tileKey];\r\n        return (\r\n            <VirtualWindow\r\n                key={tileKey}\r\n                ref={ref}\r\n                {...props}\r\n            >\r\n                {renderProps => this.props.children({\r\n                    tileKey,\r\n                    tilePosition: this.getTilePosition(tileKey),\r\n                    absRowIndex: renderProps.rowIndex + rowIndexOffset,\r\n                    absColIndex: renderProps.colIndex + columnIndexOffset,\r\n                    relRowIndex: renderProps.rowIndex,\r\n                    relColIndex: renderProps.colIndex,\r\n                    height: renderProps.height,\r\n                    width: renderProps.width\r\n                })}\r\n            </VirtualWindow>\r\n        );\r\n    };\r\n\r\n    //\r\n    // event handlers\r\n    //\r\n\r\n    private handleScroll = (e: React.UIEvent<HTMLDivElement>): void => {\r\n        const normalized = ScrollUtils.normalizeScrollEvent(e, this.direction);\r\n        const isRtl = this.direction === 'rtl';\r\n\r\n        if (!DomUtils.isPositionStickySupported || isRtl) {\r\n\r\n            // Need to restore tiles position\r\n            this.setState({\r\n                scrollTop: normalized.scrollTop,\r\n                normalizedScrollLeft: normalized.normalizedScrollLeft,\r\n                rawScrollLeft: normalized.rawScrollLeft\r\n            });\r\n        }\r\n\r\n        // Scroll tiles content\r\n        for (const tileKey of this.activeTiles) {\r\n            const { ref } = this.tiles[tileKey];\r\n            ref.current.scrollTo(normalized);\r\n        }\r\n    };\r\n\r\n    //\r\n    // render helpers\r\n    //\r\n\r\n    private getTilesInRow(rowKey: TileVerticalPosition): TileKey[] {\r\n        return this.activeTiles.filter(key => this.tiles[key].position.vertical === rowKey);\r\n    }\r\n\r\n    private createTilesMap(): Partial<TilesMap> {\r\n        this.resetTiles();\r\n\r\n        const map: Partial<TilesMap> = {};\r\n\r\n        const hasHeader = !!this.props.fixedHeaderHeight;\r\n        const hasFooter = !!this.props.fixedFooterHeight;\r\n        const hasFixedLeftColumn = !!this.props.fixedLeftWidth;\r\n        const hasFixedRightColumn = !!this.props.fixedRightWidth;\r\n\r\n        const createTilesMapEntry = this.createTileMapEntryFactory();\r\n\r\n        // header\r\n\r\n        if (hasHeader) {\r\n\r\n            if (hasFixedLeftColumn) {\r\n                map[TileKey.HeaderLeft] = createTilesMapEntry(TileKey.HeaderLeft);\r\n            }\r\n\r\n            map[TileKey.HeaderCenter] = createTilesMapEntry(TileKey.HeaderCenter);\r\n\r\n            if (hasFixedRightColumn) {\r\n                map[TileKey.HeaderRight] = createTilesMapEntry(TileKey.HeaderRight);\r\n            }\r\n        }\r\n\r\n        // body\r\n\r\n        if (hasFixedLeftColumn) {\r\n            map[TileKey.BodyLeft] = createTilesMapEntry(TileKey.BodyLeft);\r\n        }\r\n\r\n        map[TileKey.BodyCenter] = createTilesMapEntry(TileKey.BodyCenter);\r\n\r\n        if (hasFixedRightColumn) {\r\n            map[TileKey.BodyRight] = createTilesMapEntry(TileKey.BodyRight);\r\n        }\r\n\r\n        // footer\r\n\r\n        if (hasFooter) {\r\n\r\n            if (hasFixedLeftColumn) {\r\n                map[TileKey.FooterLeft] = createTilesMapEntry(TileKey.FooterLeft);\r\n            }\r\n\r\n            map[TileKey.FooterCenter] = createTilesMapEntry(TileKey.FooterCenter);\r\n\r\n            if (hasFixedRightColumn) {\r\n                map[TileKey.FooterRight] = createTilesMapEntry(TileKey.FooterRight);\r\n            }\r\n        }\r\n\r\n        return map;\r\n    }\r\n\r\n    private createTileMapEntryFactory() {\r\n\r\n        // calculate base dimensions\r\n\r\n        const horizontalScrollbarWidth = this.getHorizontalScrollbarWidth();\r\n        const verticalScrollbarWidth = this.getVerticalScrollbarWidth();\r\n\r\n        const containerHeight = this.getContainerHeight();\r\n        const containerWidth = this.getContainerWidth();\r\n\r\n        const headerHeight = this.props.fixedHeaderHeight;\r\n        const footerHeight = this.props.fixedFooterHeight;\r\n        const bodyHeight = containerHeight - horizontalScrollbarWidth - headerHeight - footerHeight;\r\n\r\n        const leftWidth = this.props.fixedLeftWidth;\r\n        const rightWidth = this.props.fixedRightWidth;\r\n        const centerWidth = containerWidth - verticalScrollbarWidth - leftWidth - rightWidth;\r\n\r\n        // create factory method\r\n\r\n        return (tileKey: TileKey): TileEntry => {\r\n\r\n            const { vertical, horizontal } = this.getTilePosition(tileKey);\r\n\r\n            const isVerticalFixed = vertical === 'header' || vertical === 'footer';\r\n            const isHorizontalFixed = horizontal === 'left' || horizontal === 'right';\r\n            const isCorner = isVerticalFixed && isHorizontalFixed;\r\n\r\n            return {\r\n                ref: React.createRef<VirtualWindow>(),\r\n\r\n                position: {\r\n                    vertical,\r\n                    horizontal\r\n                },\r\n\r\n                tileRowTop: vertical === 'header' ? 0 :\r\n                    vertical === 'body' ? headerHeight :\r\n                        headerHeight + bodyHeight,\r\n\r\n                rowIndexOffset: vertical === 'header' ? 0 :\r\n                    vertical === 'body' ? (headerHeight && 1) :\r\n                        this.props.rowCount + (headerHeight && 1),\r\n\r\n                columnIndexOffset: horizontal === 'left' ? 0 :\r\n                    horizontal === 'center' ? (leftWidth && 1) :\r\n                        this.props.columnCount + (leftWidth && 1),\r\n\r\n                props: {\r\n                    className: this.createClassName(tileKey),\r\n\r\n                    controlledScroll: true,\r\n\r\n                    scrollDirection: isCorner ? 'none' :\r\n                        isVerticalFixed ? 'horizontal' :\r\n                            isHorizontalFixed ? 'vertical' :\r\n                                'both',\r\n\r\n                    direction: this.direction,\r\n\r\n                    height: vertical === 'header' ? headerHeight :\r\n                        vertical === 'body' ? bodyHeight :\r\n                            footerHeight,\r\n\r\n                    width: horizontal === 'left' ? leftWidth :\r\n                        horizontal === 'center' ? centerWidth :\r\n                            rightWidth,\r\n\r\n                    columnCount: horizontal === 'left' ? 1 :\r\n                        horizontal === 'center' ? this.props.columnCount :\r\n                            1,\r\n\r\n                    rowCount: vertical === 'header' ? 1 :\r\n                        vertical === 'body' ? this.props.rowCount :\r\n                            1,\r\n\r\n                    columnWidth: horizontal === 'left' ? leftWidth :\r\n                        horizontal === 'center' ? this.props.columnWidth :\r\n                            rightWidth,\r\n\r\n                    rowHeight: vertical === 'header' ? headerHeight :\r\n                        vertical === 'body' ? this.props.rowHeight :\r\n                            footerHeight,\r\n\r\n                    overscanColumnsCount: horizontal === 'left' ? 0 :\r\n                        horizontal === 'center' ? this.props.overscanColumnsCount :\r\n                            0,\r\n\r\n                    overscanRowCount: vertical === 'header' ? 0 :\r\n                        vertical === 'body' ? this.props.overscanRowCount :\r\n                            0\r\n                }\r\n            };\r\n        };\r\n    }\r\n\r\n    private getTilePosition(tileKey: TileKey): TilePosition {\r\n        const [vertical, horizontal] = tileKey.toLowerCase().split('_');\r\n        return {\r\n            vertical,\r\n            horizontal\r\n\r\n        } as TilePosition;\r\n    }\r\n\r\n    private resetTiles() {\r\n        for (const tileKey of this.activeTiles) {\r\n            this.tiles[tileKey].ref.current.clearCache();\r\n        }\r\n        this.tiles = {};\r\n    }\r\n\r\n    private getContainerHeight(): number {\r\n        const scrollableHeight = this.getScrollableHeight();\r\n        const horizontalScrollbarWidth = this.getHorizontalScrollbarWidth();\r\n        return Math.min(this.props.height, scrollableHeight + horizontalScrollbarWidth);\r\n    }\r\n\r\n    private getContainerWidth(): number {\r\n        const scrollableWidth = this.getScrollableWidth();\r\n        const verticalScrollbarWidth = this.getVerticalScrollbarWidth();\r\n        return Math.min(this.props.width, scrollableWidth + verticalScrollbarWidth);\r\n    }\r\n\r\n    private getScrollableHeight() {\r\n\r\n        const headerHeight = this.props.fixedHeaderHeight;\r\n        const footerHeight = this.props.fixedFooterHeight;\r\n        const bodyHeight = this.getBodyScrollableHeight();\r\n\r\n        return bodyHeight + headerHeight + footerHeight;\r\n    }\r\n\r\n    private getScrollableWidth() {\r\n\r\n        const leftWidth = this.props.fixedLeftWidth;\r\n        const rightWidth = this.props.fixedRightWidth;\r\n        const bodyWidth = this.getBodyScrollableWidth();\r\n\r\n        return bodyWidth + leftWidth + rightWidth;\r\n    }\r\n\r\n    private getBodyScrollableHeight() {\r\n        const body = this.tiles[TileKey.BodyCenter]?.ref?.current;\r\n        if (body)\r\n            return body.getScrollableHeight();\r\n\r\n        // Body not rendered yet - have to calculate independently.  \r\n        // Not so DRY, breaks encapsulation and not very efficient either but I\r\n        // couldn't find a better way to do that which is not terribly ugly...\r\n        return this.initialCalculator.getTotalSize(\r\n            'row',\r\n            this.props.rowHeight,\r\n            null, // this.props.estimatedRowHeight,\r\n            this.props.rowCount\r\n        );\r\n    }\r\n\r\n    private getBodyScrollableWidth() {\r\n        const body = this.tiles[TileKey.BodyCenter]?.ref?.current;\r\n        if (body)\r\n            return body.getScrollableWidth();\r\n\r\n        // Body not rendered yet - have to calculate independently.  \r\n        // Not so DRY, breaks encapsulation and not very efficient either but I\r\n        // couldn't find a better way to do that which is not terribly ugly...\r\n        return this.initialCalculator.getTotalSize(\r\n            'column',\r\n            this.props.columnWidth,\r\n            null, // this.props.estimatedColumnWidth,\r\n            this.props.columnCount\r\n        );\r\n    }\r\n\r\n    private getVerticalScrollbarWidth(): number {\r\n        const scrollableHeight = this.getScrollableHeight();\r\n        const hasVerticalScrollbar = scrollableHeight > this.props.height;\r\n        return (hasVerticalScrollbar && DomUtils.scrollbarWidth) || 0;\r\n    }\r\n\r\n    private getHorizontalScrollbarWidth(): number {\r\n        const scrollableWidth = this.getScrollableWidth();\r\n        const hasHorizontalScrollbar = scrollableWidth > this.props.width;\r\n        return (hasHorizontalScrollbar && DomUtils.scrollbarWidth) || 0;\r\n    }\r\n\r\n    /**\r\n     * We are only using classes for easier debug inspection...\r\n     */\r\n    private createClassName(className: string): string {\r\n        return `ReactTablize__VirtualGrid__${className}`;\r\n    }\r\n}","export * from './VirtualGrid';\r\nexport * from './virtualGridProps';\r\n","import * as React from 'react';\r\nimport AutoSizer from 'react-virtualized-auto-sizer';\r\nimport { ErrorBoundary } from '../internal/ErrorBoundary';\r\nimport { VirtualGrid, VirtualGridProps } from '../internal/grid';\r\nimport { SizeUtils } from '../internal/utils';\r\nimport { DocDir } from '../types';\r\n\r\nexport interface GridViewProps extends Omit<VirtualGridProps, 'height' | 'width'> {\r\n    height?: string | number;\r\n    width?: string | number;\r\n}\r\n\r\nexport class GridView extends React.PureComponent<GridViewProps> {\r\n\r\n    public static readonly defaultHeight = '35vh';\r\n\r\n    private get direction(): DocDir {\r\n        return this.props.style?.direction === 'rtl' ? 'rtl' : 'ltr';\r\n    }\r\n\r\n    private gridRef = React.createRef<VirtualGrid>();\r\n\r\n    public refresh() {\r\n        this.gridRef.current?.refresh();\r\n    }\r\n\r\n    public render() {\r\n        return (\r\n            <ErrorBoundary>\r\n                <div\r\n                    style={{\r\n                        direction: this.direction,\r\n                        width: '100%',\r\n                        ...this.props.style,\r\n                        ...SizeUtils.getElementHeights(this, GridView.defaultHeight)\r\n                    }}\r\n                >\r\n                    <AutoSizer>\r\n                        {({ width, height }) => (\r\n                            <VirtualGrid \r\n                                {...this.props}\r\n                                ref={this.gridRef}\r\n                                height={height}\r\n                                width={width}\r\n                            />\r\n                        )}\r\n                    </AutoSizer>\r\n                </div>\r\n            </ErrorBoundary >\r\n        );\r\n    }\r\n}","export * from './GridView';\r\n","module.exports = require(\"emotion-theming\");","module.exports = require(\"react-custom-scrollbars\");","export * from './grid';\r\nexport * from './table';\r\nexport * from './internal/grid/virtualGridProps';\r\nexport * from './types';\r\n","module.exports = require(\"lodash.flattendeep\");"],"sourceRoot":""}